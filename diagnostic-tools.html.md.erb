---
title: Using BOSH Diagnostic Commands in Enterprise PKS
owner: Ops Manager
---

This topic describes how to access information about your <%= vars.product_full %> deployment
by using the BOSH Command Line Interface (BOSH CLI).

##<a id='overview'></a>Overview

BOSH diagnostic commands such as `bosh ssh` and `bosh vms` enable
you to access information about your <%= vars.product_short %> deployment.
For example, you can access <%= vars.product_short %> log files by SSHing into the PKS VM.

##<a id='overview'></a>Prerequisites

Before you begin diagnosing issues with your <%= vars.product_short %> deployment using the BOSH CLI,
you must gather credential and IP address information for your BOSH Director and SSH into the Ops Manager VM.
For instructions, see [Advanced Troubleshooting with the BOSH
CLI](https://docs.pivotal.io/platform/2-7/customizing/trouble-advanced.html).

## <a id='alias'></a>Set a BOSH Environment Alias and Log in to the BOSH Director VM

To set a BOSH alias for your <%= vars.product_short %> environment
and log in to the BOSH Director VM, follow the steps below:

1. If you have not already done so, gather your credential and IP address information for the BOSH Director and SSH
into the Ops Manager VM. For instructions, see [Advanced Troubleshooting with the BOSH
CLI](https://docs.pivotal.io/platform/2-7/customizing/trouble-advanced.html).
1. To create a BOSH alias for your <%= vars.product_short %> environment, run the following command:
  <pre>bosh alias-env ENVIRONMENT \
    -e BOSH-DIRECTOR-IP \
    --ca-cert /var/tempest/workspaces/default/root_ca_certificate</pre>
  Where:
    * `ENVIRONMENT` is an alias of your choice. For example, `pks`.
    * `BOSH-DIRECTOR-IP` is the BOSH Director IP address you located in the
first step. For example, `10.0.0.3`.

    For example:
    <pre class="terminal">$ bosh alias-env pks -e 10.0.0.3 \
    --ca-cert /var/tempest/workspaces/default/root_ca_certificate</pre>
1. To log in to the BOSH Director using the alias you set, run the following command:
  <pre>bosh -e ENVIRONMENT login</pre>

    For example:
    <pre class="terminal">$ bosh -e pks login</pre>

## <a id='pks-api'></a>SSH into the PKS VM

To SSH into the PKS VM using the BOSH CLI, follow the steps below:

<%= partial 'bosh-ssh' %>

### <a id='master-node'></a>SSH into the Kubernetes Cluster Master Node VM

To SSH into the master node VM for a PKS Kubernetes cluster using the BOSH CLI, follow the steps below:

<%= partial 'ssh-cluster-master-node' %>

##<a id='bosh-pks-map'></a>View Log Files

Log files contain error messages and other information you can use to diagnose issues with your <%= vars.product_short %> deployment.
To access <%= vars.product_short %> log files, SSH into the PKS VM and then follow the steps below:

1. To act as super user on the PKS VM, run the following command:
  <pre>sudo su</pre>

1. To navigate to the PKS VM's `/var/vcap/sys/log` log file directory, run the following command:
  <pre>cd /var/vcap/sys/log</pre>

1. Examine the following files:
  * On the PKS master VM, examine the `kube-apiserver` log file.
  * On a PKS worker VM, examine the `kubelet` log file.
